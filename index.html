<script>
  // Initialize AOS
  AOS.init({
    duration: 800,
    easing: 'ease-in-out',
    once: true,
    offset: 100
  });
  
  // Initialize Lucide icons
  lucide.createIcons();
  
  // Mobile menu toggle
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  
  mobileMenuBtn.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });
  
  // Smooth scroll to MVP section
  function scrollToMVP() {
    document.getElementById("mvp").scrollIntoView({ behavior: "smooth" });
  }

  // Interactive Braille demo
  const brailleDots = document.querySelectorAll('.interactive-dot');
  const activeDots = new Set();
  
  brailleDots.forEach(dot => {
    dot.addEventListener('click', () => {
      const dotNum = dot.dataset.dot;
      
      if (activeDots.has(dotNum)) {
        activeDots.delete(dotNum);
        dot.style.background = 'white';
        dot.style.transform = 'scale(1)';
        dot.style.boxShadow = 'none';
      } else {
        activeDots.add(dotNum);
        dot.style.background = '#FF5722';
        dot.style.transform = 'scale(1.3)';
        dot.style.boxShadow = '0 0 20px rgba(255, 87, 34, 0.6)';
      }
    });
  });

  // Encoder (mock logic for now)
  function convertToBrelse() {
    const input = document.getElementById("message").value.trim();
    const brailleOnly = document.getElementById("brailleOnly").checked;
    const morseOnly = document.getElementById("morseOnly").checked;
    const output = document.getElementById("output");

    if (!input) {
      output.innerText = "⚠️ Please enter a message first.";
      return;
    }

    // Placeholder encoding logic
    let result = "";
    if (brailleOnly) {
      result = "[Braille encoding of]: " + input;
    } else if (morseOnly) {
      result = "[Morse encoding of]: " + input;
    } else {
      result = "[Brelse hybrid encoding of]: " + input;
    }

    output.innerText = result;
  }

  // Download output
  function downloadOutput() {
    const outputText = document.getElementById("output").innerText;
    if (!outputText) return;

    const blob = new Blob([outputText], { type: "text/plain" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "bresle-output.txt";
    link.click();
  }

  // Decoder (mock logic)
  function decodeFromBrelse() {
    const input = document.getElementById("decoderInput").value.trim();
    const decodedOutput = document.getElementById("decodedOutput");

    if (!input) {
      decodedOutput.innerText = "⚠️ Please paste Brelse code first.";
      return;
    }

    decodedOutput.innerText = "[Decoded text of]: " + input;
  }

  // Copy decoded result
  function copyDecodedText() {
    const text = document.getElementById("decodedOutput").innerText;
    if (!text) return;
    
    navigator.clipboard.writeText(text).then(() => {
      alert("✅ Result copied to clipboard!");
    });
  }
</script>
