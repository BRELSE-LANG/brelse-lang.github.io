<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Indian Diet Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-black text-white">
  
  <!-- Header -->
  <div class="bg-gradient-to-b from-green-900/20 to-black p-8">
    <div class="max-w-6xl mx-auto">
      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
        </div>
        <div>
          <h1 class="text-5xl font-black tracking-tight">Diet Calculator</h1>
          <p class="text-gray-400 text-lg">Personalized Indian meal plans</p>
        </div>
      </div>
    </div>
  </div>

  <div class="max-w-6xl mx-auto px-6 pb-8">
    <!-- Form -->
    <div class="bg-gray-900 rounded-lg p-8 mb-8">
      <h2 class="text-2xl font-bold mb-6 text-green-400">Your Details</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Age</label>
          <input 
            type="number" 
            id="age" 
            value="25"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          />
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Sex</label>
          <select 
            id="sex"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          >
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Weight (kg)</label>
          <input 
            type="number" 
            id="weight" 
            value="70"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          />
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Height (cm)</label>
          <input 
            type="number" 
            id="height" 
            value="170"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          />
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Activity</label>
          <select 
            id="activity"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          >
            <option value="sedentary">Sedentary</option>
            <option value="light">Light</option>
            <option value="moderate" selected>Moderate</option>
            <option value="active">Active</option>
            <option value="very_active">Very Active</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Diet</label>
          <select 
            id="dietType"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          >
            <option value="veg" selected>Vegetarian</option>
            <option value="nonveg">Non-Vegetarian</option>
            <option value="vegan">Vegan</option>
            <option value="eggetarian">Eggetarian</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-300 mb-2 uppercase tracking-wide">Goal</label>
          <select 
            id="goal"
            class="w-full bg-gray-800 border border-gray-700 rounded px-4 py-3 text-white focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"
          >
            <option value="balanced" selected>Maintain</option>
            <option value="weight_loss">Weight Loss</option>
            <option value="muscle_gain">Muscle Gain</option>
          </select>
        </div>
      </div>

      <!-- Restrictions Section -->
      <div class="border-t border-gray-700 pt-6">
        <button
          id="toggleRestrictions"
          class="flex items-center gap-2 text-green-400 font-semibold mb-4 hover:text-green-300 transition-colors"
        >
          <svg id="restrictionIcon" class="w-5 h-5 transition-transform" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
          </svg>
          Allergies & Food Preferences
        </button>

        <div id="restrictionsPanel" class="hidden space-y-6">
          <!-- Allergy Warning -->
          <div class="bg-red-900/20 border border-red-600/30 rounded p-4">
            <div class="flex gap-3">
              <div class="w-5 h-5 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="white">
                  <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                </svg>
              </div>
              <div>
                <h4 class="font-bold text-red-400 mb-1">Medical Allergies Warning</h4>
                <p class="text-gray-300 text-sm">
                  This app cannot guarantee complete allergen avoidance. Always read labels and consult healthcare providers for severe allergies.
                </p>
              </div>
            </div>
          </div>

          <!-- Allergies -->
          <div>
            <h4 class="text-white font-semibold mb-3">Medical Allergies</h4>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500 allergy-check" value="dairy">
                <span class="text-gray-300 text-sm">Dairy</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500 allergy-check" value="egg">
                <span class="text-gray-300 text-sm">Egg</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500 allergy-check" value="gluten">
                <span class="text-gray-300 text-sm">Gluten</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500 allergy-check" value="nuts">
                <span class="text-gray-300 text-sm">Nuts</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500 allergy-check" value="soy">
                <span class="text-gray-300 text-sm">Soy</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-red-500 bg-gray-800 border-gray-600 rounded focus:ring-red-500 allergy-check" value="fish">
                <span class="text-gray-300 text-sm">Fish</span>
              </label>
            </div>
          </div>

          <!-- Dislikes -->
          <div>
            <h4 class="text-white font-semibold mb-3">Foods I Don't Like</h4>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500 dislike-check" value="dairy">
                <span class="text-gray-300 text-sm">Dairy</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500 dislike-check" value="meat">
                <span class="text-gray-300 text-sm">Meat</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500 dislike-check" value="seafood">
                <span class="text-gray-300 text-sm">Seafood</span>
              </label>
              <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" class="w-4 h-4 text-yellow-500 bg-gray-800 border-gray-600 rounded focus:ring-yellow-500 dislike-check" value="spicy">
                <span class="text-gray-300 text-sm">Spicy</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Calculate Button -->
      <div class="mt-8">
        <button 
          id="calculateBtn"
          class="bg-green-500 text-black font-bold py-4 px-8 rounded-full text-lg hover:bg-green-400 transform hover:scale-105 transition-all"
        >
          Calculate My Plan
        </button>
      </div>
    </div>

    <!-- Results -->
    <div id="results" class="hidden space-y-8">
      <!-- Stats -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <div class="bg-gray-900 rounded p-6 border-l-4 border-green-500">
          <div id="bmr" class="text-3xl font-black text-white">0</div>
          <div class="text-gray-400 font-medium">BMR</div>
          <div class="text-xs text-gray-500 uppercase">kcal/day</div>
        </div>
        
        <div class="bg-gray-900 rounded p-6 border-l-4 border-blue-500">
          <div id="tdee" class="text-3xl font-black text-white">0</div>
          <div class="text-gray-400 font-medium">TDEE</div>
          <div class="text-xs text-gray-500 uppercase">kcal/day</div>
        </div>
        
        <div class="bg-gray-900 rounded p-6 border-l-4 border-purple-500">
          <div id="targetCalories" class="text-3xl font-black text-white">0</div>
          <div class="text-gray-400 font-medium">Target</div>
          <div class="text-xs text-gray-500 uppercase">kcal/day</div>
        </div>
        
        <div class="bg-gray-900 rounded p-6 border-l-4 border-yellow-500">
          <div id="protein" class="text-3xl font-black text-white">0g</div>
          <div class="text-gray-400 font-medium">Protein</div>
          <div class="text-xs text-gray-500 uppercase">daily target</div>
        </div>
      </div>

      <!-- Macros -->
      <div class="bg-gray-900 rounded p-6">
        <h3 class="text-2xl font-bold mb-6 text-green-400">Daily Macros</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-gray-800 rounded p-4 text-center">
            <div id="proteinMacro" class="text-3xl font-black text-red-400">0g</div>
            <div class="text-gray-300">Protein</div>
          </div>
          <div class="bg-gray-800 rounded p-4 text-center">
            <div id="fatMacro" class="text-3xl font-black text-yellow-400">0g</div>
            <div class="text-gray-300">Fat</div>
          </div>
          <div class="bg-gray-800 rounded p-4 text-center">
            <div id="carbsMacro" class="text-3xl font-black text-green-400">0g</div>
            <div class="text-gray-300">Carbs</div>
          </div>
        </div>
      </div>

      <!-- Sample Meal Plan -->
      <div class="bg-gray-900 rounded p-6">
        <h3 class="text-2xl font-bold text-green-400 mb-6">Sample Meal Plan</h3>
        <div class="space-y-4">
          <div class="bg-gray-800 rounded p-4">
            <h4 class="text-white font-bold mb-2">Breakfast</h4>
            <p class="text-gray-300 text-sm">2 Roti + Paneer (50g) + Milk (1 glass)</p>
            <p class="text-gray-400 text-xs">~400 kcal • 20g protein</p>
          </div>
          <div class="bg-gray-800 rounded p-4">
            <h4 class="text-white font-bold mb-2">Lunch</h4>
            <p class="text-gray-300 text-sm">Rice (1 cup) + Dal (1 cup) + Sabzi (1 cup) + Roti (1)</p>
            <p class="text-gray-400 text-xs">~600 kcal • 25g protein</p>
          </div>
          <div class="bg-gray-800 rounded p-4">
            <h4 class="text-white font-bold mb-2">Dinner</h4>
            <p class="text-gray-300 text-sm">Roti (2) + Dal (1 cup) + Sabzi (1 cup)</p>
            <p class="text-gray-400 text-xs">~450 kcal • 18g protein</p>
          </div>
        </div>
      </div>

      <!-- Disclaimer -->
      <div class="bg-yellow-900/20 border border-yellow-600/30 rounded p-6">
        <div class="flex gap-4">
          <div class="w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="black">
              <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
            </svg>
          </div>
          <div>
            <h4 class="font-bold text-yellow-400 mb-2">Medical Disclaimer</h4>
            <p class="text-gray-300 text-sm leading-relaxed">
              This meal plan is for educational purposes only and not a substitute for professional medical advice. 
              Individual nutritional needs vary based on medical conditions, metabolic rate, and other factors. 
              For medical conditions, eating disorders, or specialized dietary requirements, consult a registered 
              dietitian or healthcare professional before making dietary changes.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const FOOD_DB = {
      roti: { name: "Roti (wheat, medium)", kcal: 100, protein: 3, allergens: ["gluten"], category: "grain" },
      rice_cup: { name: "Cooked rice (1 cup)", kcal: 130, protein: 2.5, allergens: [], category: "grain" },
      dal_cup: { name: "Cooked dal (1 cup)", kcal: 150, protein: 9, allergens: [], category: "legume" },
      sabzi_cup: { name: "Vegetable sabzi (1 cup)", kcal: 120, protein: 3.5, allergens: [], category: "vegetable" },
      paneer_100: { name: "Paneer (100g)", kcal: 260, protein: 18, allergens: ["dairy"], category: "dairy" },
      egg_boiled: { name: "Boiled egg (1)", kcal: 70, protein: 6, allergens: ["egg"], category: "protein" },
      chicken_100: { name: "Chicken breast (100g cooked)", kcal: 165, protein: 31, allergens: [], category: "meat" },
      fish_100: { name: "Fish fillet (100g cooked)", kcal: 180, protein: 22, allergens: ["fish"], category: "seafood" },
      milk_glass: { name: "Milk (250ml)", kcal: 120, protein: 8, allergens: ["dairy"], category: "dairy" }
    };

    const activityMultipliers = {
      sedentary: 1.2,
      light: 1.375,
      moderate: 1.55,
      active: 1.725,
      very_active: 1.9
    };

    function calcBMR(sex, weightKg, heightCm, age) {
      if (sex === "male") {
        return 10 * weightKg + 6.25 * heightCm - 5 * age + 5;
      } else {
        return 10 * weightKg + 6.25 * heightCm - 5 * age - 161;
      }
    }

    // Toggle restrictions panel
    document.getElementById('toggleRestrictions').addEventListener('click', function() {
      const panel = document.getElementById('restrictionsPanel');
      const icon = document.getElementById('restrictionIcon');
      
      if (panel.classList.contains('hidden')) {
        panel.classList.remove('hidden');
        icon.style.transform = 'rotate(90deg)';
      } else {
        panel.classList.add('hidden');
        icon.style.transform = 'rotate(0deg)';
      }
    });

    // Calculate button
    document.getElementById('calculateBtn').addEventListener('click', function() {
      const age = parseInt(document.getElementById('age').value);
      const sex = document.getElementById('sex').value;
      const weight = parseFloat(document.getElementById('weight').value);
      const height = parseFloat(document.getElementById('height').value);
      const activity = document.getElementById('activity').value;
      const goal = document.getElementById('goal').value;

      // Calculate BMR and TDEE
      const bmr = Math.round(calcBMR(sex, weight, height, age));
      const tdee = Math.round(bmr * activityMultipliers[activity]);
      
      // Adjust for goals
      let targetCalories = tdee;
      if (goal === "weight_loss") targetCalories = Math.round(tdee - 500);
      if (goal === "muscle_gain") targetCalories = Math.round(tdee + 300);

      // Calculate macros
      const proteinPerKg = goal === "muscle_gain" ? 1.8 : goal === "weight_loss" ? 1.6 : 1.4;
      const proteinTarget = Math.round(weight * proteinPerKg);
      const fatTarget = Math.round((targetCalories * 0.25) / 9);
      const carbsTarget = Math.round((targetCalories - (proteinTarget * 4) - (fatTarget * 9)) / 4);

      // Update display
      document.getElementById('bmr').textContent = bmr;
      document.getElementById('tdee').textContent = tdee;
      document.getElementById('targetCalories').textContent = targetCalories;
      document.getElementById('protein').textContent = proteinTarget + 'g';
      
      document.getElementById('proteinMacro').textContent = proteinTarget + 'g';
      document.getElementById('fatMacro').textContent = fatTarget + 'g';
      document.getElementById('carbsMacro').textContent = carbsTarget + 'g';

      // Show results
      document.getElementById('results').classList.remove('hidden');
      
      // Scroll to results
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    });
  </script>
</body>
</html>
