<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AahaarSheela â€” Health & Wellness</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen flex flex-col">

  <header class="p-4 bg-gradient-to-r from-orange-400 to-pink-500 text-white text-center font-bold text-xl">
    ðŸŒ¿ AahaarSheela â€” Health & Wellness
  </header>

  <main class="flex-1 p-4 space-y-6">
    <section id="diet">
      <div class="p-4 rounded-2xl shadow bg-white dark:bg-gray-800">
        <h2 class="text-lg font-semibold mb-3">ðŸ¥— Smart Diet Calculator</h2>
        <form id="dietForm" class="space-y-2">
          <input id="age" type="number" placeholder="Age" class="w-full p-2 rounded border" required>
          <input id="weight" type="number" placeholder="Weight (kg)" class="w-full p-2 rounded border" required>
          <input id="height" type="number" placeholder="Height (cm)" class="w-full p-2 rounded border" required>
          <select id="activity" class="w-full p-2 rounded border">
            <option value="1.2">Sedentary</option>
            <option value="1.375">Lightly Active</option>
            <option value="1.55">Moderately Active</option>
            <option value="1.725">Very Active</option>
          </select>
          <button type="submit" class="w-full bg-orange-500 text-white rounded p-2">Calculate</button>
        </form>
        <div id="dietResult" class="mt-3 text-sm"></div>
      </div>
    </section>

    <section id="sleep" class="hidden">
      <div class="p-4 rounded-2xl shadow bg-white dark:bg-gray-800">
        <h2 class="text-lg font-semibold mb-3">ðŸ˜´ Sleep Tracker</h2>
        <form id="sleepForm" class="space-y-2">
          <label>Bedtime: <input id="bedtime" type="time" class="w-full p-2 rounded border"></label>
          <label>Wake Time: <input id="waketime" type="time" class="w-full p-2 rounded border"></label>
          <button type="submit" class="w-full bg-indigo-500 text-white rounded p-2">Analyze</button>
        </form>
        <div id="sleepResult" class="mt-3 text-sm"></div>
      </div>
    </section>

    <section id="dream" class="hidden">
      <div class="p-4 rounded-2xl shadow bg-white dark:bg-gray-800">
        <h2 class="text-lg font-semibold mb-3">ðŸŒ™ Dream Journal</h2>
        <form id="dreamForm" class="space-y-2">
          <textarea id="dreamText" placeholder="Write your dream..." class="w-full p-2 rounded border"></textarea>
          <button type="submit" class="w-full bg-pink-500 text-white rounded p-2">Save & Interpret</button>
        </form>
        <div id="dreamResult" class="mt-3 text-sm"></div>
        <h3 class="font-semibold mt-4">Saved Dreams</h3>
        <ul id="dreamHistory" class="mt-2 text-xs space-y-1"></ul>
      </div>
    </section>
  </main>

  <nav class="fixed bottom-0 w-full bg-white dark:bg-gray-800 border-t flex justify-around py-2">
    <button data-target="diet" class="nav-btn text-orange-500">ðŸ¥— Diet</button>
    <button data-target="sleep" class="nav-btn">ðŸ˜´ Sleep</button>
    <button data-target="dream" class="nav-btn">ðŸŒ™ Dream</button>
    <button id="darkToggle">ðŸŒ—</button>
  </nav>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    // Tab Navigation
    const navBtns = document.querySelectorAll(".nav-btn");
    const sections = document.querySelectorAll("main section");
    navBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        sections.forEach(sec => sec.classList.add("hidden"));
        document.getElementById(btn.dataset.target).classList.remove("hidden");
        navBtns.forEach(b => b.classList.remove("text-orange-500"));
        btn.classList.add("text-orange-500");
      });
    });

    // Dark Mode
    const darkToggle = document.getElementById("darkToggle");
    darkToggle.addEventListener("click", () => {
      document.documentElement.classList.toggle("dark");
    });

    // Diet Calculator
    const dietForm = document.getElementById("dietForm");
    const dietResult = document.getElementById("dietResult");
    dietForm.addEventListener("submit", e => {
      e.preventDefault();
      const age = +document.getElementById("age").value;
      const weight = +document.getElementById("weight").value;
      const height = +document.getElementById("height").value;
      const activity = +document.getElementById("activity").value;
      const bmr = 10 * weight + 6.25 * height - 5 * age + 5;
      const calories = Math.round(bmr * activity);
      let suggestion = calories < 1800 ? "Add rice & dal khichdi" :
                       calories < 2200 ? "Balanced: roti, sabzi, curd" :
                       "High energy: paneer, nuts, ghee roti";
      dietResult.textContent = `Your daily calorie need: ${calories} kcal. Suggestion: ${suggestion}`;
    });

    // Sleep Tracker
    const sleepForm = document.getElementById("sleepForm");
    const sleepResult = document.getElementById("sleepResult");
    sleepForm.addEventListener("submit", e => {
      e.preventDefault();
      const bed = document.getElementById("bedtime").value;
      const wake = document.getElementById("waketime").value;
      if (!bed || !wake) return;
      const [bh,bm] = bed.split(":").map(Number);
      const [wh,wm] = wake.split(":").map(Number);
      let start = new Date(0,0,0,bh,bm);
      let end = new Date(0,0,0,wh,wm);
      if (end <= start) end.setDate(end.getDate()+1);
      const hours = (end-start)/3600000;
      let msg = hours < 6 ? "Too little sleep! Try earlier bedtime." :
                hours <= 8 ? "Perfect sleep duration!" :
                "Oversleeping a bit, adjust schedule.";
      sleepResult.textContent = `You slept ${hours.toFixed(1)} hrs. ${msg}`;
    });

    // Dream Journal
    const dreamForm = document.getElementById("dreamForm");
    const dreamText = document.getElementById("dreamText");
    const dreamResult = document.getElementById("dreamResult");
    const dreamHistory = document.getElementById("dreamHistory");
    let dreams = JSON.parse(localStorage.getItem("dreams") || "[]");

    function renderDreams() {
      dreamHistory.innerHTML = dreams.map(d => `<li>${d.date}: ${d.text} â€” ${d.interpretation}</li>`).join("");
    }
    renderDreams();

    dreamForm.addEventListener("submit", e => {
      e.preventDefault();
      const text = dreamText.value.trim();
      if (!text) return;
      let interpretation = text.includes("water") ? "Emotions flowing" :
                           text.includes("flying") ? "Freedom desire" :
                           "Subconscious thoughts";
      const entry = {date:new Date().toLocaleString(), text, interpretation};
      dreams.unshift(entry);
      localStorage.setItem("dreams", JSON.stringify(dreams));
      dreamResult.textContent = `Interpretation: ${interpretation}`;
      dreamText.value="";
      renderDreams();
    });
  });
  </script>
</body>
</html>
